<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Caroline Patenaude Bibliothèque des lettres et sciences humaines" />
  <meta name="dcterms.date" content="2021-02-12" />
  <title>Webinaire</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/reveal.js-3.3.0.1/css/reveal.css"/>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="index_files/reveal.js-3.3.0.1/css/theme/simple.css" id="theme">


  <!-- some tweaks to reveal css -->
  <style type="text/css">
    .reveal h1 { font-size: 2.0em; }
    .reveal h2 { font-size: 1.5em;  }
    .reveal h3 { font-size: 1.25em;	}
    .reveal h4 { font-size: 1em;	}

    .reveal .slides>section,
    .reveal .slides>section>section {
      padding: 0px 0px;
    }



    .reveal table {
      border-width: 1px;
      border-spacing: 2px;
      border-style: dotted;
      border-color: gray;
      border-collapse: collapse;
      font-size: 0.7em;
    }

    .reveal table th {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      font-weight: bold;
      border-style: dotted;
      border-color: gray;
    }

    .reveal table td {
      border-width: 1px;
      padding-left: 10px;
      padding-right: 25px;
      border-style: dotted;
      border-color: gray;
    }

    .reveal .slide-menu-button {
      left: 105px !important;
    }

  </style>

    <style type="text/css">code{white-space: pre;}</style>

    <link rel="stylesheet" href="test-reveal.css"/>

<!-- Printing and PDF exports -->
<script id="paper-css" type="application/dynamic-css">

/* Default Print Stylesheet Template
   by Rob Glazebrook of CSSnewbie.com
   Last Updated: June 4, 2008
   Feel free (nay, compelled) to edit, append, and
   manipulate this file as you see fit. */


@media print {

	/* SECTION 1: Set default width, margin, float, and
	   background. This prevents elements from extending
	   beyond the edge of the printed page, and prevents
	   unnecessary background images from printing */
	html {
		background: #fff;
		width: auto;
		height: auto;
		overflow: visible;
	}
	body {
		background: #fff;
		font-size: 20pt;
		width: auto;
		height: auto;
		border: 0;
		margin: 0 5%;
		padding: 0;
		overflow: visible;
		float: none !important;
	}

	/* SECTION 2: Remove any elements not needed in print.
	   This would include navigation, ads, sidebars, etc. */
	.nestedarrow,
	.controls,
	.fork-reveal,
	.share-reveal,
	.state-background,
	.reveal .progress,
	.reveal .backgrounds {
		display: none !important;
	}

	/* SECTION 3: Set body font face, size, and color.
	   Consider using a serif font for readability. */
	body, p, td, li, div {
		font-size: 20pt!important;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		color: #000;
	}

	/* SECTION 4: Set heading font face, sizes, and color.
	   Differentiate your headings from your body text.
	   Perhaps use a large sans-serif for distinction. */
	h1,h2,h3,h4,h5,h6 {
		color: #000!important;
		height: auto;
		line-height: normal;
		font-family: Georgia, "Times New Roman", Times, serif !important;
		text-shadow: 0 0 0 #000 !important;
		text-align: left;
		letter-spacing: normal;
	}
	/* Need to reduce the size of the fonts for printing */
	h1 { font-size: 28pt !important;  }
	h2 { font-size: 24pt !important; }
	h3 { font-size: 22pt !important; }
	h4 { font-size: 22pt !important; font-variant: small-caps; }
	h5 { font-size: 21pt !important; }
	h6 { font-size: 20pt !important; font-style: italic; }

	/* SECTION 5: Make hyperlinks more usable.
	   Ensure links are underlined, and consider appending
	   the URL to the end of the link for usability. */
	a:link,
	a:visited {
		color: #000 !important;
		font-weight: bold;
		text-decoration: underline;
	}
	/*
	.reveal a:link:after,
	.reveal a:visited:after {
		content: " (" attr(href) ") ";
		color: #222 !important;
		font-size: 90%;
	}
	*/


	/* SECTION 6: more reveal.js specific additions by @skypanther */
	ul, ol, div, p {
		visibility: visible;
		position: static;
		width: auto;
		height: auto;
		display: block;
		overflow: visible;
		margin: 0;
		text-align: left !important;
	}
	.reveal pre,
	.reveal table {
		margin-left: 0;
		margin-right: 0;
	}
	.reveal pre code {
		padding: 20px;
		border: 1px solid #ddd;
	}
	.reveal blockquote {
		margin: 20px 0;
	}
	.reveal .slides {
		position: static !important;
		width: auto !important;
		height: auto !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 0 !important;
		zoom: 1 !important;

		overflow: visible !important;
		display: block !important;

		text-align: left !important;
		-webkit-perspective: none;
		   -moz-perspective: none;
		    -ms-perspective: none;
		        perspective: none;

		-webkit-perspective-origin: 50% 50%;
		   -moz-perspective-origin: 50% 50%;
		    -ms-perspective-origin: 50% 50%;
		        perspective-origin: 50% 50%;
	}
	.reveal .slides section {
		visibility: visible !important;
		position: static !important;
		width: auto !important;
		height: auto !important;
		display: block !important;
		overflow: visible !important;

		left: 0 !important;
		top: 0 !important;
		margin-left: 0 !important;
		margin-top: 0 !important;
		padding: 60px 20px !important;
		z-index: auto !important;

		opacity: 1 !important;

		page-break-after: always !important;

		-webkit-transform-style: flat !important;
		   -moz-transform-style: flat !important;
		    -ms-transform-style: flat !important;
		        transform-style: flat !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;

		-webkit-transition: none !important;
		   -moz-transition: none !important;
		    -ms-transition: none !important;
		        transition: none !important;
	}
	.reveal .slides section.stack {
		padding: 0 !important;
	}
	.reveal section:last-of-type {
		page-break-after: avoid !important;
	}
	.reveal section .fragment {
		opacity: 1 !important;
		visibility: visible !important;

		-webkit-transform: none !important;
		   -moz-transform: none !important;
		    -ms-transform: none !important;
		        transform: none !important;
	}
	.reveal section img {
		display: block;
		margin: 15px 0px;
		background: rgba(255,255,255,1);
		border: 1px solid #666;
		box-shadow: none;
	}

	.reveal section small {
		font-size: 0.8em;
	}

}  
</script>


<script id="pdf-css" type="application/dynamic-css">
    
/**
 * This stylesheet is used to print reveal.js
 * presentations to PDF.
 *
 * https://github.com/hakimel/reveal.js#pdf-export
 */

* {
	-webkit-print-color-adjust: exact;
}

body {
	margin: 0 auto !important;
	border: 0;
	padding: 0;
	float: none !important;
	overflow: visible;
}

html {
	width: 100%;
	height: 100%;
	overflow: visible;
}

/* Remove any elements not needed in print. */
.nestedarrow,
.reveal .controls,
.reveal .progress,
.reveal .playback,
.reveal.overview,
.fork-reveal,
.share-reveal,
.state-background {
	display: none !important;
}

h1, h2, h3, h4, h5, h6 {
	text-shadow: 0 0 0 #000 !important;
}

.reveal pre code {
	overflow: hidden !important;
	font-family: Courier, 'Courier New', monospace !important;
}

ul, ol, div, p {
	visibility: visible;
	position: static;
	width: auto;
	height: auto;
	display: block;
	overflow: visible;
	margin: auto;
}
.reveal {
	width: auto !important;
	height: auto !important;
	overflow: hidden !important;
}
.reveal .slides {
	position: static;
	width: 100%;
	height: auto;

	left: auto;
	top: auto;
	margin: 0 !important;
	padding: 0 !important;

	overflow: visible;
	display: block;

	-webkit-perspective: none;
	   -moz-perspective: none;
	    -ms-perspective: none;
	        perspective: none;

	-webkit-perspective-origin: 50% 50%; /* there isn't a none/auto value but 50-50 is the default */
	   -moz-perspective-origin: 50% 50%;
	    -ms-perspective-origin: 50% 50%;
	        perspective-origin: 50% 50%;
}

.reveal .slides section {
	page-break-after: always !important;

	visibility: visible !important;
	position: relative !important;
	display: block !important;
	position: relative !important;

	margin: 0 !important;
	padding: 0 !important;
	box-sizing: border-box !important;
	min-height: 1px;

	opacity: 1 !important;

	-webkit-transform-style: flat !important;
	   -moz-transform-style: flat !important;
	    -ms-transform-style: flat !important;
	        transform-style: flat !important;

	-webkit-transform: none !important;
	   -moz-transform: none !important;
	    -ms-transform: none !important;
	        transform: none !important;
}

.reveal section.stack {
	margin: 0 !important;
	padding: 0 !important;
	page-break-after: avoid !important;
	height: auto !important;
	min-height: auto !important;
}

.reveal img {
	box-shadow: none;
}

.reveal .roll {
	overflow: visible;
	line-height: 1em;
}

/* Slide backgrounds are placed inside of their slide when exporting to PDF */
.reveal section .slide-background {
	display: block !important;
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	z-index: -1;
}

/* All elements should be above the slide-background */
.reveal section>* {
	position: relative;
	z-index: 1;
}

/* Display slide speaker notes when 'showNotes' is enabled */
.reveal .speaker-notes-pdf {
	display: block;
	width: 100%;
	max-height: none;
	left: auto;
	top: auto;
	z-index: 100;
}

/* Display slide numbers when 'slideNumber' is enabled */
.reveal .slide-number-pdf {
	display: block;
	position: absolute;
	font-size: 14px;
}

</script>


<script>
var style = document.createElement( 'style' );
style.type = 'text/css';
var style_script_id = window.location.search.match( /print-pdf/gi ) ? 'pdf-css' : 'paper-css';
var style_script = document.getElementById(style_script_id).text;
style.innerHTML = style_script;
document.getElementsByTagName('head')[0].appendChild(style);
</script>

    <link href="index_files/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
    <link href="index_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section data-background-image="markdown/grumpy.png">
<h1 class="title">Webinaire</h1>
  <h1 class="subtitle"><font size='10'>Intro à RStudio et au langage R</font></h1>
    <h2 class="author">Caroline Patenaude<br>Bibliothèque des lettres et sciences humaines</h2>
    <h3 class="date">2021-02-12</h3>
</section>

<section id="objectifs" class="slide level2">
<h2>Objectifs</h2>
<p id="maitriser-lenvironnement-de-rstudio." class="fragment fade-right">- Maitriser l’environnement de RStudio.</p>
<p><br></p>
<p id="sinitier-à-la-grammaire-de-base-du-langage-r." class="fragment fade-right">- S’initier à la grammaire de base du langage R.</p>
<p><br></p>
<p id="définir-et-manipuler-différents-types-dobjets-avec-des-opérateurs." class="fragment fade-right">- Définir et manipuler différents types d’objets avec des opérateurs.</p>
<p><br></p>
<p id="importer-et-explorer-un-jeu-de-données." class="fragment fade-right">- Importer et explorer un jeu de données.</p>
<p><br></p>
<p id="comprendre-le-fonctionnement-et-lutilisation-de-fonctions-élémentaires-et-de-leurs-arguments." class="fragment fade-right">- Comprendre le fonctionnement et l’utilisation de fonctions élémentaires et de leurs arguments.</p>
<p><br></p>
<p><br></p>
<p id="utilisation-de-la-base-de-données-hdv2003-insee-du-package-questionr" class="fragment fade-right">- Utilisation de la base de données hdv2003 (INSEE) du package <code>questionr</code></p>
</section>
<section id="pourquoi-r" class="slide level2">
<h2>1. Pourquoi <strong>R</strong>?</h2>
<ul>
<li><p>Langage et interface de programmation libres et gratuits pour l’analyse statistique et graphique (etc.).</p></li>
<li><p>Multiplateforme : Windows, Mac, Linux.</p></li>
<li><p>Très fort pour les graphiques et visualisations de toutes sortes.</p></li>
<li><p>Communauté très active donc développement constant = rapidité de l’implémentation de nouvelles méthodes (non disponibles dans les logiciels commerciaux).</p></li>
<li><p>Pour tous les types d’analyses (modèles linéaires, multi-niveaux, analyses factorielles, équation structurelle, simulations, psychométrie, économétrie, génomique…).</p></li>
<li><p>Utilisation de scripts assure la reproductibilité des analyses.</p></li>
<li><p>Très efficace pour la création de présentations et de rapports (<code>Rmarkdown</code>, <code>knitr</code>, <code>LaTeX</code>).</p></li>
<li><p>Excellente intégration avec de nombreux systèmes de bases de données, autres langages et outils comme Colab ou Jupyter notebook (en association avec Python).</p></li>
</ul>
</section>
<section id="pourquoi-r-1" class="slide level2">
<h2>1. Pourquoi <strong>R</strong>?</h2>
<center>
<p><img data-src="markdown/cars.jpg" /></p>
</center>
</section>
<section id="quelques-bémols" class="slide level2">
<h2>2. Quelques bémols</h2>
<ul>
<li><p>Plus un langage de programmation qu’un logiciel.</p></li>
<li><p>Ne manipule pas directement les données comme SPSS ou excel, les fichiers de données sont des objets en mémoire.</p></li>
<li><p>L’affichage des résultats est assez minimaliste.</p></li>
<li><p>Prolifération des fonctions (<em>packages</em>) peut alourdir l’apprentissage.</p></li>
<li><p>Développement rapide fait que la documentation laisse parfois à désirer.</p></li>
<li><p>Contient généralement de l’aide pour toutes les fonctions mais pas toujours facile à comprendre.</p></li>
<li><p>Comme pour tout language de programmation, un “rien” peut faire en sorte que le code plante.</p></li>
<li><p>Bref, complexe mais TRÈS puissant!</p></li>
</ul>
</section>
<section id="quelques-bémols-1" class="slide level2">
<h2>2. Quelques bémols</h2>
<h3 id="stratégie-dattaque">Stratégie d’attaque</h3>
<ol type="1">
<li><p>Choisir ses combats (on n’apprend pas R, on apprend ce que l’on a à faire dans R)</p></li>
<li><p>Savoir trouver des réponses à ses questions</p></li>
</ol>
<p><img data-src="markdown/better.png" /></p>
</section>
<section id="r-rstudio-et-autres-interfaces" class="slide level2">
<h2>3. R, RStudio et autres interfaces</h2>
<ul>
<li>Interface du <strong>R</strong> de base pas très intuitive donc peu utilisée telle quelle</li>
</ul>
<center>
<p><img data-src="markdown/screenshotR.png" /></p>
</center>
<ul>
<li><p>Installe généralement en plus un <span class="fragment highlight-red">IDE, <em>Integrated Development Environment</em></span>: éditeur de script - environnement beaucoup plus convivial qui facilite le travail (gestion des fichiers, objets et commandes, historique de fonctions, autocomplétion,…).</p></li>
<li><p>L’IDE le plus utilisé est <strong>RStudio</strong> (mais il y en a d’autres comme <strong>Tinn-R</strong>).</p></li>
<li><p>Les commandes et fonctions sont les mêmes pour <strong>R</strong> et <strong>RStudio</strong>.</p></li>
</ul>
</section>
<section id="installation" class="slide level2">
<h2>4. Installation</h2>
<ol type="1">
<li><p>Télécharger et installer <a href="https://cran.r-project.org/"><strong>R de base</strong></a> - choisir son système d’exploitation et suivre les étapes.</p></li>
<li><p>Télécharger et installer <a href="https://www.rstudio.com/products/rstudio/download/#download"><strong>RStudio</strong></a> (ou autre interface) – Choisir la version gratuite et son système d’exploitation.</p></li>
<li><p>Télécharger et installer (“charger”) des <em>packages</em> dans <strong>RStudio</strong>.</p></li>
</ol>
<p><br></p>
<ul>
<li>À noter
<ul>
<li>Pas de mises à jour automatiques, il faut installer une nouvelle version et retélécharger les <em>packages</em> (ou déplacer le répertoire de l’ancienne version et faire <code>update.packages</code>). <strong>RStudio</strong> utilisera par défaut la version la plus récente sur le poste (peut se faire manuellement). L’ancienne version peut être désinstallée. Il est recommandé de mettre à jour sa version R et RStudio annuellement.</li>
<li>Certains besoins plus spécialisés peuvent nécessiter l’installation d’outils supplémentaires comme <a href="http://cran.r-project.org/doc/manuals/R-admin.html#The-Windows-toolset"><em>RTools</em> (Windows) et <em>LaTeX</em></a>.</li>
</ul></li>
</ul>
</section>
<section id="quest-ce-quun-package" class="slide level2">
<h2>5. Qu’est-ce qu’un <em>package</em>?</h2>
<p><br></p>
<ul>
<li><p>Un <em>package</em> est un module (ou extension, librairie, bibliothèque) qui contient un ensemble de fonctions (souvent liées à une méthode ou un domaine particulier).</p></li>
<li><p>À l’installation, <strong>R</strong> vient avec un ensemble de fonctions de base {base} et de modules par défaut (<em>built in packages</em>).</p></li>
<li><p>Des <em>packages</em> composés de fonctions spécialisées sont constamment développés par la communauté.</p></li>
<li><p>On en trouve plus de 15 000 sur le site officiel de <strong>R</strong> <a href="https://cran.r-project.org/web/packages/">CRAN</a>. D’autres se trouvent aussi ailleurs (Github, …).</p></li>
<li><p>Les packages doivent être <span class="fragment highlight-red"><strong>téléchargés</strong></span> une seule fois, mais <span class="fragment highlight-red"><strong>chargés</strong></span> à chaque session.</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Installer (télécharger) un module</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># Charger (activer) un module</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">library</span>(psych) </a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co"># ou </span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="kw">require</span>(psych)</a></code></pre></div>
</section>
<section id="quest-ce-quun-package-suite" class="slide level2">
<h2>5. Qu’est-ce qu’un <em>package</em>? (suite)</h2>
<p><br></p>
<ul>
<li><p>Il y a toujours plusieurs façons d’arriver au même résultat -&gt; normal et nécessaire de se limiter à certaines fonctions.</p></li>
<li><p>Les modules sont généralement évalués par les pairs - <a href="https://www.jstatsoft.org/index">Journal of Statistical Software</a> – le choix doit se faire avec précautions.</p></li>
<li><p>Comment les trouver et les choisir? En cherchant sur Google! En s’informant dans son domaine et en vérifiant si les packages ont déjà été utilisés dans des publications.</p></li>
<li><p>Certains packages ont des façons spécifiques de fonctionner. Ils utilisent une syntaxe et des formats qui se distinguent de la syntaxe commune de <strong>R</strong>.</p></li>
</ul>
</section>
<section id="tidyverse" class="slide level2 smaller">
<h2>6. Tidyverse</h2>
<center>
<p><img data-src="markdown/tidyverse.png" alt="Packages Tidyverse" /></p>
</center>
<ul>
<li>Ensemble de packages très utilisé spécialisé dans l’analyse, la manipulation et la visualisation de données -&gt; repose sur le principe de <a href="https://www.jstatsoft.org/article/view/v059i10"><em>tidy data</em></a>.</li>
<li>Les packages Tidyverse partagent une syntaxe commune et des “verbes” et opérateurs spécifiques (ex: %&gt;%).</li>
<li>Travaillent avec un format de jeu de données particulier (<em>tibble</em>) – variation sur le dataframe.</li>
<li>La commande <code>install.packages("tidyverse")</code> va télécharger toutes les extensions constituants le cœur de tidyverse. La fonction library(tidyverse) les chargera (Certains autres modules doivent être chargés individuellement) :
<ul>
<li>dplyr (manipulation des données)</li>
<li>tidyr (remise en forme des données)</li>
<li>purrr (programmation)</li>
<li>readr (importation de données)</li>
<li>tibble (tableaux de données)</li>
<li>forcats (variables qualitatives)</li>
<li>stringr (chaînes de caractères)</li>
<li>ggplot2 (visualisation)</li>
</ul></li>
<li>Voir <a href="https://r4ds.had.co.nz/index.html">R for data science</a> de Grolemund &amp; Wickham</li>
</ul>
</section>
<section id="interface-rstudio" class="slide level2">
<h2>7. Interface <strong>RStudio</strong></h2>
<center>
<p><img data-src="markdown/interface.jpg" /></p>
</center>
<ul>
<li><strong>À noter</strong>:
<ul>
<li>On ne peut conserver l’historique complet à partir de la console, donc il est préférable de travailler à partir d’un script.</li>
<li>l’<em>invite de commande</em> se transforme parfois en +, <strong>R</strong> considère alors que la ligne de commande n’est pas complète. Pour en sortir, taper sur <em>esc</em>.</li>
</ul></li>
</ul>
</section>
<section id="interface-rstudio-suite" class="slide level2">
<h2>7. Interface <strong>RStudio</strong> (suite)</h2>
<h3 id="raccourcis-pratiques">Raccourcis pratiques</h3>
<ul>
<li><p><strong>Éditeur de script</strong>:</p>
<ul>
<li><strong>Ctrl + Entrée est votre meilleur ami!</strong> : exécute code dans le script ligne par ligne.</li>
<li>Ctrl + 2: déplace curseur dans la console.</li>
</ul></li>
<li><p><strong>Console</strong>:</p>
<ul>
<li>Ctrl + 1 : déplace le curseur dans l’éditeur.</li>
<li>Ctrl + L : vide la console</li>
<li>Flèche vers le haut et bas du clavier: historique des commandes précédentes.</li>
</ul></li>
<li><p>Onglet History du quadrant haut-droite: consulter et relancer commandes.</p></li>
<li><p>Autocomplétion: Tab dans le nom d’une fonction. Aussi pour noms d’objets.</p></li>
<li><p>Nombreux autres raccourcis sous les onglets <em>View</em>, <em>Edit</em> et <em>Code</em></p></li>
</ul>
</section>
<section id="les-projets-et-autres-fichiers-dans-rstudio" class="slide level2">
<h2>8. Les projets et autres fichiers dans <strong>RStudio</strong></h2>
<ul>
<li><p>Créer un projet: menu <em>File</em> puis sélectionner <em>New project</em>.</p></li>
<li><p>Un projet permet d’organiser son travail et de faciliter l’accès à un ensemble de fichiers (données, scripts, documentation, graphiques…) organisés dans des dossiers/sous-dossiers.</p></li>
<li><p>Un projet <strong>RStudio</strong> est associé à un répertoire de travail <strong>R</strong>: on peut créer un nouveau dossier ou créer un projet à partir d’un dossier existant - <em>Working Directory</em>.</p></li>
<li><p><strong>R</strong> va créer dans ce dossier un fichier <strong>.Rproj</strong>. Ce fichier sera ensuite automatiquement chargé dans <strong>RStudio</strong> à l’ouverture entrainant la définition du dossier de travail, le chargement du fichier .Rdata (image contenant les objets), le chargement de l’historique et l’ouverture des scripts ouverts à la dernière session.</p></li>
<li><p>Plusieurs projets peuvent être ouverts en même temps.</p></li>
<li><p>Les options générales et de projets de RStudio peuvent être modifiées sous <em>Tools &gt; Global Options…</em> et <em>Tools &gt; Project options</em>.</p></li>
<li><p>Même si l’on ne travaille pas dans le cadre d’un “projet”, <strong>R</strong> demandera à la fermeture si l’on veut enregistrer ce qui se trouve dans son environnement. Si oui, les objets seront enregistrés dans un fichier <strong>.Rdata</strong>, le script dans un fichier <strong>.R</strong> et les commandes dans un fichier <strong>.Rhistory</strong>. À la prochaine ouverture <strong>R</strong> ouvrira comme au dernier enregistrement.</p></li>
</ul>
</section>
<section id="r-langage-de-programmation" class="slide level2">
<h2>7. <strong>R</strong>: Langage de programmation</h2>
<ul>
<li><p><strong>R</strong> est avant tout un langage de programmation <span class="fragment highlight-red">orienté objet</span>.</p></li>
<li><p>Développé à partir du <strong>langage S</strong> par <em>Ross Ihaka</em> et <em>Robert Gentleman</em> au cours des années ‘90.</p></li>
<li><p>Permet de programmer ses propres fonctions et packages.</p></li>
</ul>
<center>
<p><img data-src="markdown/programmation.png" /></p>
<p id="est-ce-quil-faut-vraiment-apprendre-ça" class="fragment fade-up highlight-red"><em>Est-ce qu’il faut vraiment apprendre ça?</em></p>
</center>
</section>
<section id="r-langage-de-programmation-suite" class="slide level2">
<h2>7. <strong>R</strong>: Langage de programmation (suite)</h2>
<p><strong>Particularités à savoir</strong>:</p>
<ul>
<li><p>Sensible à la casse (attention minuscules/majuscules).</p></li>
<li><p>Sensible aux accents (éviter d’utiliser).</p></li>
<li><p>Sensible aux signes de ponctuation: point pour décimales, virgule pour adressage.</p></li>
<li><p>Non sensible aux espaces.</p></li>
<li><p>Attention aux guillemets (pour texte, simple ou double), crochets, accolades, parenthèses.</p></li>
<li><p>Une ligne par commande, ou séparer plusieurs commandes par ;.</p></li>
<li><p>Importance fondamentale de documenter son code avec # <code># ceci est un commentaire (peut ajouter section en suivant avec au moins 4 ----)</code></p></li>
<li><p>Contrairement aux autres logiciels, l’analyse se fait par une série d’étapes avec des résultats intermédiaires <span class="fragment highlight-red">stockés dans des objets</span>.</p></li>
</ul>
</section>
<section id="structure-de-base-du-langage-r-objets" class="slide level2">
<h2>8. Structure de base du langage <strong>R</strong>: Objets</h2>
<center>
<p><img data-src="markdown/objet.jpg" /></p>
</center>
</section>
<section id="structure-de-base-du-langage-r-objets-1" class="slide level2">
<h2>8. Structure de base du langage <strong>R</strong>: Objets</h2>
<h3 id="les-opérateurs">Les opérateurs</h3>
<center>
<p><img data-src="markdown/operateur.png" /></p>
</center>
</section>
<section id="structure-de-base-du-langage-r-objets-suite" class="slide level2">
<h2>8. Structure de base du langage <strong>R</strong>: Objets (suite)</h2>
<p><br></p>
<p>À la base, on peut utiliser <strong>R</strong> comme une grosse calculatrice:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="dv">2</span><span class="op">+</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p><strong>WOW!</strong></p>
<p><br></p>
<ul>
<li>Mais l’intérêt du langage est que l’on stocke les valeurs, les tableaux, résultats, fonctions, … dans des <strong>objets</strong> qui pourront être réutilisés dans d’autres objets, fonctions, analyses.</li>
</ul>
<center>
<p><img data-src="markdown/assignation.jpg" /></p>
</center>
</section>
<section id="structure-de-base-du-langage-r-objets-suite-1" class="slide level2">
<h2>8. Structure de base du langage <strong>R</strong>: Objets (suite)</h2>
<ul>
<li>On veut calculer la moyenne d’âge de trois personnes de 12, 15 et 20 ans</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">(<span class="dv">12</span><span class="op">+</span><span class="dv">15</span><span class="op">+</span><span class="dv">20</span>)<span class="op">/</span><span class="dv">3</span>  </a></code></pre></div>
<pre><code>## [1] 15.66667</code></pre>
<p><br></p>
<ul>
<li>Créer un objet avec <span class="fragment highlight-red">l’opérateur d’assignation <code>**&lt;-**</code> </span> dans lequel je stocke le <strong>résultat du calcul</strong></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">age &lt;-<span class="st"> </span>(<span class="dv">12</span><span class="op">+</span><span class="dv">15</span><span class="op">+</span><span class="dv">20</span>)<span class="op">/</span><span class="dv">3</span>  </a></code></pre></div>
<ul>
<li>Pour voir le contenu de son objet, taper son nom</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">age </a></code></pre></div>
<pre><code>## [1] 15.66667</code></pre>
</section>
<section id="structure-de-base-du-langage-r-objets-suite-2" class="slide level2">
<h2>8. Structure de base du langage <strong>R</strong>: Objets (suite)</h2>
<p><br></p>
<p><strong>Un objet est donc une boite dans laquelle on peut placer un chiffre, un mot, un jeu de données d’un million de répondants, une fonction, un graphique…</strong></p>
<p><br></p>
<center>
<p><img data-src="markdown/boite3.png" /></p>
</section>
<section id="structure-de-base-du-langage-r-objets-suite-3" class="slide level2">
<h2>10. Structure de base du langage <strong>R</strong>: Objets (suite)</h2>
<p><br></p>
<p><strong>Les noms d’objets</strong>:</p>
<ul>
<li><p>Peuvent contenir des chiffres, lettres et caractères _ et .</p></li>
<li><p>Doivent commencer par une lettre, pas un chiffre.</p></li>
<li><p>Ne pas utiliser d’accents ni d’espace.</p></li>
<li><p>En principe il faut utiliser des noms significatifs, en pratique on utilise souvent des noms minimalistes pour faciliter la réutilisation.</p></li>
<li><p>Certains noms courts sont réservés (max, min, c, q, t, …).</p></li>
</ul>
</section>
<section id="structure-de-base-du-langage-r-fonctions" class="slide level2">
<h2>12. Structure de base du langage <strong>R</strong>: Fonctions</h2>
<p><br></p>
<center>
<p><img data-src="markdown/fonction.jpg" /></p>
</center>
<p><br></p>
<ul>
<li><p>Permettent d’effectuer des tâches prédéfinies comme des analyses, graphiques, calculs, … (tableaux, régressions, histogrammes, …)</p></li>
<li><p>On contrôle le comportement de la fonction en paramétrant ses <span class="fragment highlight-red"><em>arguments</em></span></p></li>
<li><p>On peut imbriquer les fonctions les unes dans les autres avec des parenthèses.</p></li>
</ul>
</section>
<section id="structure-de-base-du-langage-r-fonctions-suite" class="slide level2">
<h2>12. Structure de base du langage <strong>R</strong>: Fonctions (suite)</h2>
<ul>
<li>Je veux créer un nouvel <strong>objet</strong> nommé <em>age</em> composé d’une série de 5 nombres: 12, 15, 20, 35, 40 (ie un vecteur, nous y reviendrons…)</li>
<li>Il faut utiliser la fonction de base <code>c()</code>: concaténer (ou combiner)</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">35</span>, <span class="dv">40</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co"># age = nom de notre objet</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="co"># c = fonction de concaténation</span></a>
<a class="sourceLine" id="cb9-4" title="4"><span class="co"># () = premier argument de notre fonction, ie nos données</span></a></code></pre></div>
<ul>
<li>Je veux calculer la moyenne des 5 valeurs stockées dans mon <strong>objet</strong> <em>age</em></li>
<li>J’utilise la fonction <code>mean()</code> :</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">mean</span>(age) <span class="co"># Je passe mon Objet &quot;age&quot; comme argument de la fonction `mean()`</span></a></code></pre></div>
<pre><code>## [1] 24.4</code></pre>
<ul>
<li>Je veux arrondir mon résultat à seulement une décimale</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">round</span>(<span class="kw">mean</span>(age), <span class="dt">digits=</span><span class="dv">1</span>) <span class="co"># J’imbrique la fonction `mean()` dans la fonction `round()` à laquelle j&#39;ajoute l&#39;argument `digits`</span></a></code></pre></div>
<pre><code>## [1] 24.4</code></pre>
</section>
<section id="structure-de-base-du-langage-r-arguments" class="slide level2">
<h2>13. Structure de base du langage <strong>R</strong>: Arguments</h2>
<p><br></p>
<ul>
<li><p>Chaque fonction possède une <strong>liste plus ou moins longue d’arguments (paramètres ou options)</strong> plus ou moins complexes permettant de paramétrer le fonctionnement de la fonction.</p></li>
<li><p>Certains arguments ont une <strong>valeur par défaut</strong>. Si ces valeurs nous conviennent, pas besoin de les indiquer.</p></li>
<li><p>Si l’argument n’a pas de valeur par défaut, <strong>FAUT le renseigner</strong>.</p></li>
<li><p>Pour modifier la valeur d’un argument, on le <strong>nomme et change sa valeur à la suite d’un =</strong>.</p></li>
<li><p>La liste d’arguments respecte <strong>un ordre</strong>. Si on modifie chaque argument dans l’ordre, on peut omettre le nom des arguments. Les arguments peuvent donc <strong>être nommés ou non nommés</strong>.</p></li>
<li><p>Le <strong>premier argument</strong>, toujours les <strong>données</strong> (on ne le nomme généralement pas x=)</p></li>
<li><p>Comment savoir quels sont les arguments d’une fonction ? <strong>Taper <code>Help(NomFonction)</code> ou <code>?NomFonction</code></strong> .</p></li>
</ul>
</section>
<section id="structure-de-base-du-langage-r-arguments-suite" class="slide level2">
<h2>13. Structure de base du langage <strong>R</strong>: Arguments (suite)</h2>
<center>
<p><img src="markdown/aide.jpg"></p>
</center>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">12</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="ot">NA</span>)  <span class="co"># Je créé un vecteur composé de chiffres et une valeur manquante</span></a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="kw">mean</span>(age) <span class="co"># Je passe mon vecteur dans à la fonction mean</span></a></code></pre></div>
<pre><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">?mean <span class="co"># Je vais voir l&#39;aide de la fonction mean</span></a></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">mean</span>(age, <span class="dt">na.rm=</span><span class="ot">TRUE</span>, <span class="dt">trim=</span>.<span class="dv">05</span>)</a></code></pre></div>
<pre><code>## [1] 15.66667</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="co"># Argument 1: lui dit d’ignorer les valeurs manquantes dans le calcul - la valeur par défaut est `FALSE`</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="co"># Argument 2: ignorer les 5% de valeurs extrêmes</span></a></code></pre></div>
</section>
<section id="types-de-données" class="slide level2">
<h2>14. Types de données</h2>
<p>Comme tout logiciel d’analyse quantitative, <strong>R</strong> permet de créer et de manipuler plusieurs types de données. On parle en général du <strong>mode</strong> d’un objet. Les types de base sont:</p>
<ul>
<li><span class="fragment highlight-blue"><em>Character</em></span>: texte entre guillemets (“x” ou ‘x’).</li>
<li><span class="fragment highlight-blue"><em>Numeric</em></span>: des entiers (<em>integer</em>), décimales (<strong>real</strong>, <em>double</em> ou <em>float</em>), nombres complexes (<em>complex</em>), <em>raw</em>.</li>
<li><span class="fragment highlight-blue"><em>Logical</em></span>: valeurs booléennes - TRUE, FALSE.</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">aa &lt;-<span class="st"> </span><span class="dv">123</span>      <span class="co"># Numérique</span></a>
<a class="sourceLine" id="cb20-2" title="2">bb &lt;-<span class="st"> &quot;soleil&quot;</span> <span class="co"># Chaîne de caractères</span></a>
<a class="sourceLine" id="cb20-3" title="3">cc &lt;-<span class="st"> </span><span class="ot">TRUE</span>     <span class="co"># Logique (T/F)</span></a>
<a class="sourceLine" id="cb20-4" title="4">dd &lt;-<span class="st"> </span><span class="ot">NA</span>       <span class="co"># Logique</span></a>
<a class="sourceLine" id="cb20-5" title="5">ee &lt;-<span class="st"> &quot;123&quot;</span>    <span class="co"># ???</span></a></code></pre></div>
<p>Pour vérifier le type de données : <code>mode(NomObjet)</code></p>
<ul>
<li><strong>À noter</strong> On retrouve également des types dérivés comme les dates, les <strong>facteurs</strong>, les vecteurs labellisés et vecteurs nommés qui ont des <strong>attributs</strong> particuliers - <code>attributes(NomObjet)</code>.</li>
</ul>
</section>
<section id="types-dobjets" class="slide level2">
<h2>15. Types d’objets</h2>
<ul>
<li>En plus du <strong>mode</strong> définissant le “format” de leurs éléments/composantes, les objets sont aussi caractérisés par différentes <strong>structures</strong>: 1. les vecteurs, 2. les listes, 3. les matrices, 4. les arrays, et 5. les tableaux (dataframe).</li>
<li>Ce sont donc 5 différents types de contenants ayant chacun leurs propriétés.<br />

<center>
<img data-src="markdown/types.jpg" alt="https://devopedia.org/r-data-structures" /></li>
</ul>
</center>
<p>Pour vérifier le type d’objet: <code>class(NomObjet)</code></p>
</section>
<section id="les-vecteurs" class="slide level2">
<h2>15.1 Les vecteurs</h2>
<p><br></p>
<ul>
<li>La brique élémentaire = série de valeurs.</li>
<li>Un objet qui contient un ou une série d’éléments de <strong>même type (mode)</strong>, ie seulement numérique OU textuel… (on le dit “atomique”).</li>
<li>En pratique, c’est une variable (mais qui n’est pas dans un tableau) et ses éléments sont les observations.</li>
<li>Attribut une série de valeurs à un vecteur en utilisant la fonction <code>c()</code>.</li>
<li>Élément à une seule dimension, ie <strong>longueur</strong> <code>length()</code>, qui correspond à son nombre de valeurs.</li>
<li>Dans le fond, tout est composé de vecteurs – par exemple les tableaux sont composés d’un regroupement de vecteurs (variables).</li>
<li>Les valeurs d’un vecteur sont toujours positionnées selon leur <strong>rang</strong> dans la série de données ce qui permet la sélection par <strong>indexation</strong> (à suivre…).</li>
</ul>
</section>
<section id="les-vecteurs-suite" class="slide level2">
<h2>15.1 Les vecteurs (suite)</h2>
<p><br></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1">aa &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>, <span class="dv">23</span>, <span class="dv">89</span>, <span class="ot">NA</span>)  <span class="co"># vecteur numérique et une valeur manquante</span></a>
<a class="sourceLine" id="cb21-2" title="2">bb &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;bleu&quot;</span>, <span class="st">&quot;blanc&quot;</span>, <span class="st">&quot;rouge&quot;</span>)  <span class="co"># vecteur textuel</span></a>
<a class="sourceLine" id="cb21-3" title="3">cc &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>)  <span class="co"># vecteur booléen</span></a></code></pre></div>
<p><br></p>
<ul>
<li>On peut faire des calculs entre vecteurs - exemple, calcul de l’IMC: poids divisé par taille au carré</li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1">taille &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">1.45</span>, <span class="fl">1.60</span>, <span class="fl">1.70</span>) <span class="op">^</span><span class="st"> </span><span class="dv">2</span> </a>
<a class="sourceLine" id="cb22-2" title="2">poids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">70</span>, <span class="dv">65</span>, <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb22-3" title="3">IMC &lt;-<span class="st"> </span>poids <span class="op">/</span><span class="st"> </span>taille </a>
<a class="sourceLine" id="cb22-4" title="4">IMC</a></code></pre></div>
<pre><code>## [1] 33.29370 25.39062 20.76125</code></pre>
</section>
<section id="les-facteurs" class="slide level2">
<h2>17. Les facteurs</h2>
<ul>
<li><p>Type particulier de vecteur dont la structure est destinée aux variables qualitatives, que les valeurs soient numériques ou textuelles – s’apparente aux labels de variables catégorielles de SPSS.</p></li>
<li><p>On crée un facteur avec la fonction <code>factor()</code> (ou <code>ordered()</code> pour les variables ordinales).</p></li>
<li><p>À la création d’un facteur, les valeurs sont regroupées en modalités (<em>levels</em>) fixes, il ne peut y en avoir d’autres.</p></li>
<li><p>On peut toutefois modifier les niveaux permis et leur ordre.</p></li>
<li><p>Les facteurs ont un attribut <code>levels</code> qui les distinguent des vecteurs réguliers:</p>
<ul>
<li>L’argument <code>levels</code> de la fonction <code>factor()</code> permet de modifier les modalités crées par défaut.</li>
<li>L’argument <code>Labels</code> permet de modifier les libellés de niveaux.</li>
</ul></li>
</ul>
<p><strong>Créer une variable de type facteur (fonction factor()) avec 5 valeurs de 2 niveaux) </strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1">sexe &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;H&quot;</span>, <span class="st">&quot;H&quot;</span>, <span class="st">&quot;F&quot;</span>, <span class="st">&quot;H&quot;</span>), <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;H&quot;</span>, <span class="st">&quot;F&quot;</span>), <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;Homme&quot;</span>, <span class="st">&quot;Femme&quot;</span>))</a></code></pre></div>
<p><strong>Par défaut, les valeurs fournies lors de la création du facteur sont utilisées pour fixer les modalités (niveaux) de la variable en ordre alphabétique</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">levels</span>(sexe) </a></code></pre></div>
<pre><code>## [1] &quot;Homme&quot; &quot;Femme&quot;</code></pre>
<p><strong>L’objet est un facteur avec 2 niveaux dont les modalités sont stoquées sous forme textuelle, mais les valeurs individuelles sont stoquées comme integer.</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">str</span>(sexe) </a></code></pre></div>
<pre><code>##  Factor w/ 2 levels &quot;Homme&quot;,&quot;Femme&quot;: 1 1 2 1</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">typeof</span>(sexe)</a></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
</section>
<section id="les-facteurs-suite" class="slide level2">
<h2>17. Les facteurs (suite)</h2>
<ul>
<li><p>Lors de l’importation de données, tout dépendant de la fonction utilisée pour importer, les variables qualitatives seront soit importées sous forme de <strong>vecteur textuel</strong> ou de <strong>facteur</strong>.</p></li>
<li><p>Les fonctions d’importation des <em>packages</em> <em>tidyverse</em> (readr, readxl ou haven) importent les variables qualitatives sous forme textuelle, mais la majorité des fonctions d’importation les convertissent en facteur.</p></li>
<li><p>Il est toujours possible de convertir en facteur le format d’une variable numérique/textuelle avec la fonction <code>as.factor</code> (ou l’inverse avec <code>as.numeric</code>, <code>as.character</code>, mais la procédure est plus risquée).</p></li>
<li><p><strong>À noter</strong>:</p>
<ul>
<li>Attention: plusieurs modules possèdent leur propre façon de gérer les étiquettes de valeurs (vecteurs labellisés).</li>
<li>Les facteurs peuvent être plus contraignants à manipuler que les vecteurs textuels ou labellisés, mais très pratiques pour plusieurs fonctions et même nécessaires pour les graphiques et modèles d’analyse.</li>
</ul></li>
</ul>
</section>
<section id="dataframe" class="slide level2">
<h2>18. DataFrame</h2>
<ul>
<li>Jeu de données = tableur excel, spss, …</li>
<li>Avec le vecteur, type d’objet qu’on utilise le plus souvent.</li>
<li>Structurellement, le dataframe est une <strong>liste</strong> composées de <strong>vecteurs nommés</strong> (noms de variables uniques) de même <strong>longueur</strong> (nombre d’observations) mais qui peuvent être de <strong>modes différents</strong> (variables numériques, textuelles)</li>
<li>C’est donc un tableau avec des colonnes - <code>ncol()</code> et des lignes - <code>nrow()</code>, donc 2 dimensions - <code>dim()</code>.</li>
<li>On les crée avec la fonction <code>data.frame()</code> - les variables textuelles seront automatiquement converties en <strong>facteur</strong> (sinon il faut modifier l’argument - <code>stringsAsFactors = FALSE)</code>)</li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="co"># On crée trois vecteurs et on en fait un tableau avec trois variables avec la fonciton data.frame</span></a>
<a class="sourceLine" id="cb31-2" title="2"></a>
<a class="sourceLine" id="cb31-3" title="3">age &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">45</span>,<span class="dv">65</span>,<span class="dv">22</span>,<span class="dv">38</span>,<span class="dv">54</span>,<span class="dv">31</span>,<span class="dv">29</span>,<span class="dv">44</span>,<span class="dv">56</span>,<span class="dv">67</span>) </a>
<a class="sourceLine" id="cb31-4" title="4">poids &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">150</span>,<span class="dv">125</span>,<span class="dv">210</span>,<span class="dv">175</span>,<span class="dv">110</span>,<span class="dv">180</span>,<span class="dv">130</span>,<span class="dv">155</span>,<span class="dv">190</span>,<span class="dv">120</span>)</a>
<a class="sourceLine" id="cb31-5" title="5">sexe &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;H&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;F&quot;</span>,<span class="st">&quot;H&quot;</span>)</a>
<a class="sourceLine" id="cb31-6" title="6">bd &lt;-<span class="st"> </span><span class="kw">data.frame</span>(age, poids, sexe)</a></code></pre></div>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">bd</a></code></pre></div>
<pre><code>##    age poids sexe
## 1   45   150    H
## 2   65   125    F
## 3   22   210    F
## 4   38   175    H
## 5   54   110    H
## 6   31   180    F
## 7   29   130    F
## 8   44   155    H
## 9   56   190    F
## 10  67   120    H</code></pre>
<ul>
<li><p>La fonction <code>length()</code> renverra le nombre de colonnes et <code>names()</code> leur nom.</p></li>
<li><p>On le crée rarement à la main, on importe généralement un fichier de données.</p></li>
</ul>
</section>
<section id="importer-un-dataframe-fichier-de-données" class="slide level2">
<h2>18. Importer un dataframe (fichier de données)</h2>
<p><br></p>
<p>Il existe plusieurs fonctions/packages pour importer des fichiers de divers formats. Chaque fonction a ses particularités qui auront un impact sur la conversion des données (par exemple le traitement des valeurs manquantes, des étiquettes de variables, des dates, des décimales, …).</p>
<ul>
<li>Privilégier l’utilisation de fichiers textes (.txt ou .csv)</li>
<li>Avant d’importer un fichier, il est impératif de se familiariser avec son contenu et sa structure:
<ul>
<li>Quel est le type de séparateur de valeurs: tab, virgule, point-virgule?</li>
<li>Quel est le séparateur de décimale: , ou . (. par défaut, sinon faut le spécifier)?</li>
<li>Est-ce que la première ligne contient le nom des variables?</li>
<li>Y a-t-il des valeurs manquantes et comment sont-elles identifiées (88-99, NA, cellule vide)? – idéalement utiliser NA.</li>
<li>Les variables sont de quels types (nominales, ordinales, continues)?</li>
<li>Les valeurs sont de quels formats (chaine de caractères ou numérique)?</li>
<li>S’assurer que chaque ligne correspond à une observation et chaque colonne à une variable.</li>
<li>Présence de caractères accentués, apostrophes? Attention à l’encodage du fichier, supprimer des noms de variables et d’observation.</li>
</ul></li>
</ul>
<p><br></p>
<p><strong>Après l’importation, il est essentiel d’inspecter ses données de façon détaillée </strong></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1">bd &lt;-<span class="st"> </span>hdv2003 <span class="co"># Copier/renommer sa base de données</span></a></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">bd <span class="co"># Visualiser la base de données complète</span></a></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">head</span>(bd) <span class="co"># Visualiser les 6 premières observations</span></a></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">tail</span>(bd) <span class="co"># Visualiser les 6 dernières observations</span></a></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="kw">names</span>(bd) <span class="co"># Noms des variables</span></a></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1"><span class="kw">ncol</span>(bd) <span class="co"># Nombre de variables</span></a></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">length</span>(bd) <span class="co"># Nombre de variables</span></a></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1"><span class="kw">nrow</span>(bd) <span class="co"># Nombre d&#39;observations</span></a></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">dim</span>(bd) <span class="co"># Nombre de dimensions (colonnes et lignes)</span></a></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1"><span class="kw">class</span>(bd)  <span class="co"># Type d&#39;objet</span></a></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">str</span>(bd)    <span class="co"># Description plus détaillée de la structure du tableau </span></a></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">describe</span>(bd) <span class="co"># Description plus détaillée des variables du tableau</span></a></code></pre></div>
</section>
<section id="pour-aller-plus-loin" class="slide level2">
<h2>20. Pour aller plus loin</h2>
<ul>
<li><p>Joseph Larmarange et als, 2020, <a href="https://larmarange.github.io/analyse-R/">Analyse-R Introduction à l’analyse d’enquêtes avec R et RStudio</a></p></li>
<li><p>Julien Barnier, 2020, <a href="https://juba.github.io/tidyverse/">Introduction à R et au tidyverse</a></p></li>
<li><p>Rebaudo, 2019, <a href="https://myrbookfr.netlify.com/myRBook_FR.pdf">Se former au logiciel R : initiation et perfectionnement</a></p></li>
<li><p>Jean-Herman Guay, <a href="https://atrium.umontreal.ca/primo-explore/fulldisplay?docid=UM-ALEPH002264738&amp;context=L&amp;vid=UM&amp;search_scope=Tout_sauf_articles&amp;isFrbr=true&amp;tab=default_tab&amp;lang=fr_FR">Statistiques en sciences humaines avec R</a> <a href="http://dimension.usherbrooke.ca/dimension/v2ssrcadre.html">+ Site pédagogique pour les usagers francophones de R</a></p></li>
<li><p><a href="https://github.com/frrrenchies/frrrenchies/">frrrenchies</a></p></li>
<li><p><a href="http://pbil.univ-lyon1.fr/R/pdf/lang04.pdf">Graphiques de base</a></p></li>
<li><p>[Catalogue Sofia - Sujet: R Langage de programmation](<a href="https://umontreal.on.worldcat.org/search?databaseList=283,638&amp;queryString=su:R%20(Langage%20de%20programmation)" class="uri">https://umontreal.on.worldcat.org/search?databaseList=283,638&amp;queryString=su:R%20(Langage%20de%20programmation)</a></p></li>
<li><p><a href="http://www.rseek.org/">Rseek - Recherche Google dans ressources R seulement</a></p></li>
<li><p><a href="https://cran.r-project.org/manuals.html">The R Manuals (Guides de base)</a></p></li>
<li><p><a href="https://cran.r-project.org/web/views/">CRAN Task Views (ressources spécialisées selon les “disciplines”)</a></p></li>
<li><p><a href="https://www.statmethods.net/">Quick-R (pratique pour les fonctions)</a></p></li>
<li><p><a href="https://www.r-bloggers.com/">R Bloggers (se tenir informé)</a></p></li>
<li><p><a href="https://rstudio.com/resources/cheatsheets/">RStudio Cheat Sheets</a></p></li>
<li><p><a href="http://www.rdocumentation.org/">RDocumentation</a></p></li>
<li><p><a href="https://r4ds.had.co.nz/">R for Data Science</a></p></li>
<li><p>Beaucoup de ressources intéressantes sur Github. Ex: <a href="https://mgimond.github.io/ES218/index.html">Exploratory Data Analysis in R</a></p></li>
<li><p>Poser des questions: (<a href="https://stackoverflow.com/" class="uri">https://stackoverflow.com/</a>) …</p></li>
<li><p>John Fox, 2005, <a href="https://www.jstatsoft.org/article/view/v014i09">“The R Commander: A Basic-Statistics Graphical User Interface to R”</a>, Journal of Statistical Software, Volume 14, Issue 9.</p></li>
<li><p>Application <a href="https://www.jstatsoft.org/article/view/v014i09">Bluesky</a> : R + interface graphique similaire à SPSS</p></li>
</ul>
</section>
    </div>
  </div>

  <script src="index_files/reveal.js-3.3.0.1/lib/js/head.min.js"></script>
  <script src="index_files/reveal.js-3.3.0.1/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display the page number of the current slide
        slideNumber: true,
        // Push each slide change to the browser history
        history: true,
        // Vertical centering of slides
        center: false,
        // Transition style
        transition: 'fade', // none/fade/slide/convex/concave/zoom
        // Transition style for full page slide backgrounds
        backgroundTransition: 'default', // none/fade/slide/convex/concave/zoom

        menu: {
          numbers: true,
          custom: false,
          themes: false,
          transitions: false
        },



        chalkboard: {
          toggleNotesButton: true,
          theme: 'chalkboard',
        },

        keyboard: {
          67: function() { RevealChalkboard.toggleNotesCanvas() },    // toggle notes canvas when 'c' is pressed
          66: function() { RevealChalkboard.toggleChalkboard() }, // toggle chalkboard when 'b' is pressed
          46: function() { RevealChalkboard.clear() },    // clear chalkboard when 'DEL' is pressed
           8: function() { RevealChalkboard.reset() },    // reset chalkboard data on current slide when 'BACKSPACE' is pressed
          68: function() { RevealChalkboard.download() }, // downlad recorded chalkboard drawing when 'd' is pressed
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'index_files/reveal.js-3.3.0.1/plugin/search/search.js', async: true },
          { src: 'index_files/reveal.js-3.3.0.1/plugin/zoom-js/zoom.js', async: true },
          { src: 'index_files/reveal.js-3.3.0.1/plugin/chalkboard/chalkboard.js', async: true },
          { src: 'index_files/reveal.js-3.3.0.1/plugin/menu/menu.js', async: true },
        ]
      });
    </script>
  <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
      document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>

<script>
  (function() {
    if (window.jQuery) {
      Reveal.addEventListener( 'slidechanged', function(event) {  
        window.jQuery(event.previousSlide).trigger('hidden');
        window.jQuery(event.currentSlide).trigger('shown');
      });
    }
  })();
</script>


  </body>
</html>
